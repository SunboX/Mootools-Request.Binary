<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
		<script type="text/javascript" src="mootools-1.2.3-core.js"></script>
		<script type="text/javascript" src="../ByteStream.js"></script>
		<script type="text/javascript" src="../Request.Binary.js"></script>
		<script type="text/javascript">
			
			window.addEvent('domready', function(){
				
				var req = new Request.Binary({url: 'demo.jpg'});
				
				req.addEvent('progress', function(status){
					$('progress').set('text', 'Loaded: ' + (status.loaded / status.total * 100) + '%');
				});
				
				req.addEvent('success', function(byteStream){
					
					$('size').set('text', (byteStream.getLength() / 1024) + ' kByte');
					$('raw').set('text', byteStream.getRawData().replace(/\0/g, ''));
					
				});
				
				req.send();
			})
			
		</script>
		
    </head>
    <body>
    	<div id="progress"></div>
		
    	<h1>File Size:</h1>
		<pre id="size">Loading Data...</pre>
		
        <h1>Raw Data:</h1>
		<pre id="raw">Loading Data...</pre>
    </body>
</html>
